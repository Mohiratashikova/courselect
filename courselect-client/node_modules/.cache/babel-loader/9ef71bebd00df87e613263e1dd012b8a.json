{"ast":null,"code":"import{SET_PROFESSIONS,SET_PROFESSION,SET_COURSES,SET_COMMENTS,LOADING_DATA,LIKE_COURSE,UNLIKE_COURSE,SET_COURSE}from\"../types\";import axios from\"axios\";// Get all screams\nexport var getProfessions=function getProfessions(){return function(dispatch){dispatch({type:LOADING_DATA});axios.get(\"/professions\").then(function(res){dispatch({type:SET_PROFESSIONS,payload:res.data});}).catch(function(err){dispatch({type:SET_PROFESSIONS,payload:[]});});};};export var setProfession=function setProfession(professionName){return{type:SET_PROFESSION,payload:professionName};};export var setCourses=function setCourses(professionName){return function(dispatch){dispatch({type:LOADING_DATA});axios.get(\"/courses\",{params:{professionName:professionName}}).then(function(res){dispatch({type:SET_COURSES,payload:res.data});}).catch(function(err){dispatch({type:SET_COURSES,payload:[]});});};};export var addProfession=function addProfession(professionName){return function(dispatch){dispatch({type:LOADING_DATA});axios.post(\"/profession\",{name:professionName}).then(function(res){dispatch(getProfessions());}).catch(function(err){dispatch({type:SET_COURSES,payload:[]});});};};export var likeCourse=function likeCourse(courseId){return function(dispatch){axios.get(\"/course/\".concat(courseId,\"/like\")).then(function(res){dispatch({type:LIKE_COURSE,payload:res.data});}).catch(function(err){return console.log(err);});};};// Unlike a scream\nexport var unlikeCourse=function unlikeCourse(courseId){return function(dispatch){axios.get(\"/course/\".concat(courseId,\"/unlike\")).then(function(res){dispatch({type:UNLIKE_COURSE,payload:res.data});}).catch(function(err){return console.log(err);});};};export var addCourse=function addCourse(courseName,professionName){return function(dispatch){axios.post(\"/profession/course\",{name:courseName,professionName:professionName}).then(function(res){dispatch(setCourses(professionName));}).catch(function(err){return console.log(err);});};};export var searchComments=function searchComments(courseName){return function(dispatch){dispatch({type:SET_COURSE,payload:courseName});axios.get(\"/courseToProfession\",{params:{courseName:courseName}}).then(function(res){dispatch({type:SET_COMMENTS,payload:res.data.allComments});}).catch(function(err){dispatch({type:SET_COMMENTS,payload:[]});});};};export var addComment=function addComment(body,courseName){return function(dispatch){axios.post(\"/course/comment\",{courseName:courseName,body:body}).then(function(){dispatch(searchComments(courseName));}).catch(function(err){return console.log(err);});};};export var deleteComment=function deleteComment(commentId,courseName){return function(dispatch){axios.delete(\"/comment/\".concat(commentId)).then(function(){dispatch(searchComments(courseName));}).catch(function(err){return console.log(err);});};};","map":{"version":3,"sources":["/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/src/redux/actions/dataActions.js"],"names":["SET_PROFESSIONS","SET_PROFESSION","SET_COURSES","SET_COMMENTS","LOADING_DATA","LIKE_COURSE","UNLIKE_COURSE","SET_COURSE","axios","getProfessions","dispatch","type","get","then","res","payload","data","catch","err","setProfession","professionName","setCourses","params","addProfession","post","name","likeCourse","courseId","console","log","unlikeCourse","addCourse","courseName","searchComments","allComments","addComment","body","deleteComment","commentId","delete"],"mappings":"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","sourcesContent":["import {\n  SET_PROFESSIONS,\n  SET_PROFESSION,\n  SET_COURSES,\n  SET_COMMENTS,\n  LOADING_DATA,\n  LIKE_COURSE,\n  UNLIKE_COURSE,\n  SET_COURSE,\n} from \"../types\";\nimport axios from \"axios\";\n\n// Get all screams\nexport const getProfessions = () => (dispatch) => {\n  dispatch({ type: LOADING_DATA });\n  axios\n    .get(\"/professions\")\n    .then((res) => {\n      dispatch({\n        type: SET_PROFESSIONS,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: SET_PROFESSIONS,\n        payload: [],\n      });\n    });\n};\nexport const setProfession = (professionName) => {\n  return {\n    type: SET_PROFESSION,\n    payload: professionName,\n  };\n};\nexport const setCourses = (professionName) => (dispatch) => {\n  dispatch({ type: LOADING_DATA });\n  axios\n    .get(\"/courses\", { params: { professionName } })\n    .then((res) => {\n      dispatch({\n        type: SET_COURSES,\n        payload: res.data,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: SET_COURSES,\n        payload: [],\n      });\n    });\n};\n\nexport const addProfession = (professionName) => (dispatch) => {\n  dispatch({ type: LOADING_DATA });\n  axios\n    .post(\"/profession\", { name: professionName })\n    .then((res) => {\n      dispatch(getProfessions());\n    })\n    .catch((err) => {\n      dispatch({\n        type: SET_COURSES,\n        payload: [],\n      });\n    });\n};\n\nexport const likeCourse = (courseId) => (dispatch) => {\n  axios\n    .get(`/course/${courseId}/like`)\n    .then((res) => {\n      dispatch({\n        type: LIKE_COURSE,\n        payload: res.data,\n      });\n    })\n    .catch((err) => console.log(err));\n};\n// Unlike a scream\nexport const unlikeCourse = (courseId) => (dispatch) => {\n  axios\n    .get(`/course/${courseId}/unlike`)\n    .then((res) => {\n      dispatch({\n        type: UNLIKE_COURSE,\n        payload: res.data,\n      });\n    })\n    .catch((err) => console.log(err));\n};\nexport const addCourse = (courseName, professionName) => (dispatch) => {\n  axios\n    .post(`/profession/course`, { name: courseName, professionName })\n    .then((res) => {\n      dispatch(setCourses(professionName));\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const searchComments = (courseName) => (dispatch) => {\n  dispatch({\n    type: SET_COURSE,\n    payload: courseName,\n  });\n\n  axios\n    .get(\"/courseToProfession\", { params: { courseName } })\n    .then((res) => {\n      dispatch({\n        type: SET_COMMENTS,\n        payload: res.data.allComments,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: SET_COMMENTS,\n        payload: [],\n      });\n    });\n};\n\nexport const addComment = (body, courseName) => (dispatch) => {\n  axios\n    .post(\"/course/comment\", { courseName, body })\n    .then(() => {\n      dispatch(searchComments(courseName));\n    })\n    .catch((err) => console.log(err));\n};\n\nexport const deleteComment = (commentId, courseName) => (dispatch) => {\n  axios\n    .delete(`/comment/${commentId}`)\n    .then(() => {\n      dispatch(searchComments(courseName));\n    })\n    .catch((err) => console.log(err));\n};\n"]},"metadata":{},"sourceType":"module"}