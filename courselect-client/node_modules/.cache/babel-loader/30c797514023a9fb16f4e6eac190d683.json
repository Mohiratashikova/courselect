{"ast":null,"code":"import _classCallCheck from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import Comment from\"../components/Comment\";import withStyles from\"@material-ui/core/styles/withStyles\";import{addComment}from\"../redux/actions/dataActions\";import{TextField,Button}from\"@material-ui/core\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={form:{textAlign:\"center\"},image:{margin:\"20px auto 20px auto\"},button:{marginTop:20,marginRight:30,position:\"relative\"},pageTitle:{margin:\"10px auto 10px auto\"},textField:{margin:\"10px auto 10px auto\"},customError:{color:\"red\",fontSize:\"0.8rem\",marginTop:10},progress:{position:\"absolute\"}};export var feedbacks=/*#__PURE__*/function(_Component){_inherits(feedbacks,_Component);var _super=_createSuper(feedbacks);function feedbacks(){var _this;_classCallCheck(this,feedbacks);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={newComment:\"\",adding:false};_this.handleAdd=function(event){_this.setState({adding:true});};_this.handleChange=function(event){_this.setState({newComment:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();if(_this.state.newComment){_this.props.addComment(_this.state.newComment,_this.props.course);_this.setState({adding:false,errors:\"\",newComment:\"\"});}else{_this.setState({errors:\"Empty comment\"});}};_this.handleCancel=function(){_this.setState({adding:false});};return _this;}_createClass(feedbacks,[{key:\"render\",value:function render(){var authenticated=this.props.user.authenticated;var _this$props=this.props,classes=_this$props.classes,course=_this$props.course,comments=_this$props.comments;var newFeedbackButton=!authenticated?/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"contained\",color:\"secondary\",className:classes.button,children:\"LOGIN TO ADD NEW FEEDBACK\"})}):/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"contained\",color:\"secondary\",className:classes.button,disabled:this.state.adding,onClick:this.handleAdd,children:\"ADD NEW FEEDBACK\"});var renderedComments;if(comments.length!==0){renderedComments=comments.map(function(comment){return/*#__PURE__*/_jsx(Comment,{comment:comment},comment.commentId);});}else{renderedComments=/*#__PURE__*/_jsx(\"p\",{children:\"no feedbacks yet\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:course})}),/*#__PURE__*/_jsx(\"div\",{children:renderedComments}),course&&newFeedbackButton,this.state.adding&&/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{id:\"entry\",name:\"entry\",type:\"text\",label:\"Enter a new feedback...\",className:classes.textField,helperText:this.state.errors,error:this.state.errors?true:false,value:this.state.newCourse,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"secondary\",className:classes.button,disabled:!this.state.adding,onClick:this.handleSubmit,children:\"ADD\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"contained\",color:\"primary\",className:classes.button,disabled:!this.state.adding,onClick:this.handleCancel,children:\"CANCEL\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return feedbacks;}(Component);var mapStateToProps=function mapStateToProps(state){return{course:state.data.course,comments:state.data.comments,user:state.user};};export default connect(mapStateToProps,{addComment:addComment})(withStyles(styles)(feedbacks));","map":{"version":3,"sources":["/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/src/pages/feedbacks.js"],"names":["React","Component","connect","Comment","withStyles","addComment","TextField","Button","Link","styles","form","textAlign","image","margin","button","marginTop","marginRight","position","pageTitle","textField","customError","color","fontSize","progress","feedbacks","state","newComment","adding","handleAdd","event","setState","handleChange","target","value","handleSubmit","preventDefault","props","course","errors","handleCancel","authenticated","user","classes","comments","newFeedbackButton","renderedComments","length","map","comment","commentId","newCourse","mapStateToProps","data"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,CACA,OAASC,UAAT,KAA2B,8BAA3B,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,mBAAlC,CACA,OAASC,IAAT,KAAqB,kBAArB,C,wFACA,GAAMC,CAAAA,MAAM,CAAG,CACbC,IAAI,CAAE,CACJC,SAAS,CAAE,QADP,CADO,CAIbC,KAAK,CAAE,CACLC,MAAM,CAAE,qBADH,CAJM,CAObC,MAAM,CAAE,CACNC,SAAS,CAAE,EADL,CAENC,WAAW,CAAE,EAFP,CAGNC,QAAQ,CAAE,UAHJ,CAPK,CAYbC,SAAS,CAAE,CACTL,MAAM,CAAE,qBADC,CAZE,CAebM,SAAS,CAAE,CACTN,MAAM,CAAE,qBADC,CAfE,CAkBbO,WAAW,CAAE,CACXC,KAAK,CAAE,KADI,CAEXC,QAAQ,CAAE,QAFC,CAGXP,SAAS,CAAE,EAHA,CAlBA,CAuBbQ,QAAQ,CAAE,CACRN,QAAQ,CAAE,UADF,CAvBG,CAAf,CA2BA,UAAaO,CAAAA,SAAb,uUACEC,KADF,CACU,CACNC,UAAU,CAAE,EADN,CAENC,MAAM,CAAE,KAFF,CADV,OAKEC,SALF,CAKc,SAACC,KAAD,CAAW,CACrB,MAAKC,QAAL,CAAc,CACZH,MAAM,CAAE,IADI,CAAd,EAGD,CATH,OAUEI,YAVF,CAUiB,SAACF,KAAD,CAAW,CACxB,MAAKC,QAAL,CAAc,CACZJ,UAAU,CAAEG,KAAK,CAACG,MAAN,CAAaC,KADb,CAAd,EAGD,CAdH,OAeEC,YAfF,CAeiB,SAACL,KAAD,CAAW,CACxBA,KAAK,CAACM,cAAN,GACA,GAAI,MAAKV,KAAL,CAAWC,UAAf,CAA2B,CACzB,MAAKU,KAAL,CAAW/B,UAAX,CAAsB,MAAKoB,KAAL,CAAWC,UAAjC,CAA6C,MAAKU,KAAL,CAAWC,MAAxD,EACA,MAAKP,QAAL,CAAc,CACZH,MAAM,CAAE,KADI,CAEZW,MAAM,CAAE,EAFI,CAGZZ,UAAU,CAAE,EAHA,CAAd,EAKD,CAPD,IAOO,CACL,MAAKI,QAAL,CAAc,CACZQ,MAAM,CAAE,eADI,CAAd,EAGD,CACF,CA7BH,OA8BEC,YA9BF,CA8BiB,UAAM,CACnB,MAAKT,QAAL,CAAc,CAAEH,MAAM,CAAE,KAAV,CAAd,EACD,CAhCH,2DAiCE,iBAAS,CACP,GAAQa,CAAAA,aAAR,CAA0B,KAAKJ,KAAL,CAAWK,IAArC,CAAQD,aAAR,CACA,gBAAsC,KAAKJ,KAA3C,CAAQM,OAAR,aAAQA,OAAR,CAAiBL,MAAjB,aAAiBA,MAAjB,CAAyBM,QAAzB,aAAyBA,QAAzB,CACA,GAAMC,CAAAA,iBAAiB,CAAG,CAACJ,aAAD,cACxB,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,uBACE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,WAHR,CAIE,SAAS,CAAEE,OAAO,CAAC5B,MAJrB,uCADF,EADwB,cAYxB,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,WAHR,CAIE,SAAS,CAAE4B,OAAO,CAAC5B,MAJrB,CAKE,QAAQ,CAAE,KAAKW,KAAL,CAAWE,MALvB,CAME,OAAO,CAAE,KAAKC,SANhB,8BAZF,CAwBA,GAAIiB,CAAAA,gBAAJ,CACA,GAAIF,QAAQ,CAACG,MAAT,GAAoB,CAAxB,CAA2B,CACzBD,gBAAgB,CAAGF,QAAQ,CAACI,GAAT,CAAa,SAACC,OAAD,qBAC9B,KAAC,OAAD,EAAiC,OAAO,CAAEA,OAA1C,EAAcA,OAAO,CAACC,SAAtB,CAD8B,EAAb,CAAnB,CAGD,CAJD,IAIO,CACLJ,gBAAgB,cAAG,uCAAnB,CACD,CACD,mBACE,oCACE,kCACE,oBAAKR,MAAL,EADF,EADF,cAIE,qBAAMQ,gBAAN,EAJF,CAKGR,MAAM,EAAIO,iBALb,CAMG,KAAKnB,KAAL,CAAWE,MAAX,eACC,qCACE,KAAC,SAAD,EACE,EAAE,CAAC,OADL,CAEE,IAAI,CAAC,OAFP,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAC,yBAJR,CAKE,SAAS,CAAEe,OAAO,CAACvB,SALrB,CAME,UAAU,CAAE,KAAKM,KAAL,CAAWa,MANzB,CAOE,KAAK,CAAE,KAAKb,KAAL,CAAWa,MAAX,CAAoB,IAApB,CAA2B,KAPpC,CAQE,KAAK,CAAE,KAAKb,KAAL,CAAWyB,SARpB,CASE,QAAQ,CAAE,KAAKnB,YATjB,CAUE,SAAS,KAVX,EADF,cAaE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,WAHR,CAIE,SAAS,CAAEW,OAAO,CAAC5B,MAJrB,CAKE,QAAQ,CAAE,CAAC,KAAKW,KAAL,CAAWE,MALxB,CAME,OAAO,CAAE,KAAKO,YANhB,iBAbF,cAuBE,KAAC,MAAD,EACE,IAAI,CAAC,QADP,CAEE,OAAO,CAAC,WAFV,CAGE,KAAK,CAAC,SAHR,CAIE,SAAS,CAAEQ,OAAO,CAAC5B,MAJrB,CAKE,QAAQ,CAAE,CAAC,KAAKW,KAAL,CAAWE,MALxB,CAME,OAAO,CAAE,KAAKY,YANhB,oBAvBF,GAPJ,cA0CE,aA1CF,cA2CE,aA3CF,GADF,CA+CD,CAnHH,uBAA+BtC,SAA/B,EAqHA,GAAMkD,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC1B,KAAD,QAAY,CAClCY,MAAM,CAAEZ,KAAK,CAAC2B,IAAN,CAAWf,MADe,CAElCM,QAAQ,CAAElB,KAAK,CAAC2B,IAAN,CAAWT,QAFa,CAGlCF,IAAI,CAAEhB,KAAK,CAACgB,IAHsB,CAAZ,EAAxB,CAKA,cAAevC,CAAAA,OAAO,CAACiD,eAAD,CAAkB,CAAE9C,UAAU,CAAVA,UAAF,CAAlB,CAAP,CACbD,UAAU,CAACK,MAAD,CAAV,CAAmBe,SAAnB,CADa,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Comment from \"../components/Comment\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport { addComment } from \"../redux/actions/dataActions\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nconst styles = {\n  form: {\n    textAlign: \"center\",\n  },\n  image: {\n    margin: \"20px auto 20px auto\",\n  },\n  button: {\n    marginTop: 20,\n    marginRight: 30,\n    position: \"relative\",\n  },\n  pageTitle: {\n    margin: \"10px auto 10px auto\",\n  },\n  textField: {\n    margin: \"10px auto 10px auto\",\n  },\n  customError: {\n    color: \"red\",\n    fontSize: \"0.8rem\",\n    marginTop: 10,\n  },\n  progress: {\n    position: \"absolute\",\n  },\n};\nexport class feedbacks extends Component {\n  state = {\n    newComment: \"\",\n    adding: false,\n  };\n  handleAdd = (event) => {\n    this.setState({\n      adding: true,\n    });\n  };\n  handleChange = (event) => {\n    this.setState({\n      newComment: event.target.value,\n    });\n  };\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.newComment) {\n      this.props.addComment(this.state.newComment, this.props.course);\n      this.setState({\n        adding: false,\n        errors: \"\",\n        newComment: \"\",\n      });\n    } else {\n      this.setState({\n        errors: \"Empty comment\",\n      });\n    }\n  };\n  handleCancel = () => {\n    this.setState({ adding: false });\n  };\n  render() {\n    const { authenticated } = this.props.user;\n    const { classes, course, comments } = this.props;\n    const newFeedbackButton = !authenticated ? (\n      <Link to=\"/login\">\n        <Button\n          type=\"button\"\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.button}\n        >\n          LOGIN TO ADD NEW FEEDBACK\n        </Button>\n      </Link>\n    ) : (\n      <Button\n        type=\"button\"\n        variant=\"contained\"\n        color=\"secondary\"\n        className={classes.button}\n        disabled={this.state.adding}\n        onClick={this.handleAdd}\n      >\n        ADD NEW FEEDBACK\n      </Button>\n    );\n\n    let renderedComments;\n    if (comments.length !== 0) {\n      renderedComments = comments.map((comment) => (\n        <Comment key={comment.commentId} comment={comment} />\n      ));\n    } else {\n      renderedComments = <p>no feedbacks yet</p>;\n    }\n    return (\n      <div>\n        <div>\n          <h1>{course}</h1>\n        </div>\n        <div>{renderedComments}</div>\n        {course && newFeedbackButton}\n        {this.state.adding && (\n          <form>\n            <TextField\n              id=\"entry\"\n              name=\"entry\"\n              type=\"text\"\n              label=\"Enter a new feedback...\"\n              className={classes.textField}\n              helperText={this.state.errors}\n              error={this.state.errors ? true : false}\n              value={this.state.newCourse}\n              onChange={this.handleChange}\n              fullWidth\n            />\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"secondary\"\n              className={classes.button}\n              disabled={!this.state.adding}\n              onClick={this.handleSubmit}\n            >\n              ADD\n            </Button>\n            <Button\n              type=\"button\"\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              disabled={!this.state.adding}\n              onClick={this.handleCancel}\n            >\n              CANCEL\n            </Button>\n          </form>\n        )}\n        <br />\n        <br />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = (state) => ({\n  course: state.data.course,\n  comments: state.data.comments,\n  user: state.user,\n});\nexport default connect(mapStateToProps, { addComment })(\n  withStyles(styles)(feedbacks)\n);\n"]},"metadata":{},"sourceType":"module"}