{"ast":null,"code":"import _defineProperty from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{connect}from\"react-redux\";import{getProfessions,addProfession}from\"../redux/actions/dataActions\";import withStyles from\"@material-ui/core/styles/withStyles\";import Profession from\"./Profession\";import{Grid,TextField,Button}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={form:{textAlign:\"center\"},image:{margin:\"20px auto 20px auto\"},button:{marginTop:20,marginRight:30,position:\"relative\"},pageTitle:{margin:\"10px auto 10px auto\"},textField:{margin:\"10px auto 10px auto\"},customError:{color:\"red\",fontSize:\"0.8rem\",marginTop:10},progress:{position:\"absolute\"}};export var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={entry:\"\",newProfession:\"\",adding:false};_this.handleSubmit=function(event){event.preventDefault();};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.handleAdd=function(event){_this.setState({adding:true});};_this.handleCreate=function(event){_this.setState({newProfession:event.target.value});};_this.handleNewSubmit=function(event){event.preventDefault();if(_this.props.data.professions.some(function(profession){return profession.professionName.toLowerCase()===_this.state.newProfession.toLowerCase();})){_this.setState({errors:\"Profession already exists\"});}else if(_this.state.newProfession===\"\"){_this.setState({errors:\"Invalid input\"});}else{_this.props.addProfession(_this.state.newProfession);_this.setState({adding:false,newProfession:\"\",errors:\"\"});}};_this.handleCancel=function(){_this.setState({adding:false});};return _this;}_createClass(Search,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getProfessions();}},{key:\"render\",value:function render(){var _this2=this;var _this$props$data=this.props.data,professions=_this$props$data.professions,loading=_this$props$data.loading;var classes=this.props.classes;var professionsMarkup=!loading?professions.map(function(profession){return profession.professionName.toLowerCase().includes(_this2.state.entry.toLowerCase())&&/*#__PURE__*/_jsx(Profession,{profession:profession},profession.professionId);}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading all courses...\"});return/*#__PURE__*/_jsxs(Grid,{container:true,spacing:10,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:2,xs:12}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:8,xs:12,children:[/*#__PURE__*/_jsx(\"form\",{noValidate:true,onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsx(TextField,{id:\"search\",name:\"entry\",type:\"text\",label:\"Search for a profession...\",className:classes.textField// helperText={errors.search}\n// error={errors.search ? true : false}\n,value:this.state.entry,onChange:this.handleChange,fullWidth:true})}),/*#__PURE__*/_jsxs(Button,{type:\"button\",variant:\"contained\",color:\"secondary\",className:classes.button,disabled:this.state.adding,onClick:this.handleAdd,children:[\"ADD NEW PROFESSION\",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"br\",{}),this.state.adding&&/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(TextField,{id:\"search\",name:\"entry\",type:\"text\",label:\"Enter a new profession...\",className:classes.textField,helperText:this.state.errors,error:this.state.errors?true:false,value:this.state.newProfession,onChange:this.handleCreate,fullWidth:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"secondary\",className:classes.button,disabled:!this.state.adding,onClick:this.handleNewSubmit,children:\"ADD\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"contained\",color:\"primary\",className:classes.button,disabled:!this.state.adding,onClick:this.handleCancel,children:\"CANCEL\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:professionsMarkup})]}),/*#__PURE__*/_jsx(Grid,{item:true,sm:2,xs:12})]});// return ;\n}}]);return Search;}(Component);// Search.propTypes = {\n//   getProfessions: PropTypes.func.isRequired,\n//   data: PropTypes.object.isRequired,\n// };\nvar mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getProfessions:getProfessions,addProfession:addProfession})(withStyles(styles)(Search));","map":{"version":3,"sources":["/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/src/components/Search.js"],"names":["React","Component","connect","getProfessions","addProfession","withStyles","Profession","Grid","TextField","Button","styles","form","textAlign","image","margin","button","marginTop","marginRight","position","pageTitle","textField","customError","color","fontSize","progress","Search","state","entry","newProfession","adding","handleSubmit","event","preventDefault","handleChange","setState","target","name","value","handleAdd","handleCreate","handleNewSubmit","props","data","professions","some","profession","professionName","toLowerCase","errors","handleCancel","loading","classes","professionsMarkup","map","includes","professionId","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { getProfessions, addProfession } from \"../redux/actions/dataActions\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport Profession from \"./Profession\";\nimport { Grid, TextField, Button } from \"@material-ui/core\";\n\nconst styles = {\n  form: {\n    textAlign: \"center\",\n  },\n  image: {\n    margin: \"20px auto 20px auto\",\n  },\n  button: {\n    marginTop: 20,\n    marginRight: 30,\n    position: \"relative\",\n  },\n  pageTitle: {\n    margin: \"10px auto 10px auto\",\n  },\n  textField: {\n    margin: \"10px auto 10px auto\",\n  },\n  customError: {\n    color: \"red\",\n    fontSize: \"0.8rem\",\n    marginTop: 10,\n  },\n  progress: {\n    position: \"absolute\",\n  },\n};\nexport class Search extends Component {\n  state = {\n    entry: \"\",\n    newProfession: \"\",\n    adding: false,\n  };\n  componentDidMount() {\n    this.props.getProfessions();\n  }\n  handleSubmit = (event) => {\n    event.preventDefault();\n  };\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n  handleAdd = (event) => {\n    this.setState({\n      adding: true,\n    });\n  };\n  handleCreate = (event) => {\n    this.setState({\n      newProfession: event.target.value,\n    });\n  };\n  handleNewSubmit = (event) => {\n    event.preventDefault();\n    if (\n      this.props.data.professions.some(\n        (profession) =>\n          profession.professionName.toLowerCase() ===\n          this.state.newProfession.toLowerCase()\n      )\n    ) {\n      this.setState({\n        errors: \"Profession already exists\",\n      });\n    } else if (this.state.newProfession === \"\") {\n      this.setState({\n        errors: \"Invalid input\",\n      });\n    } else {\n      this.props.addProfession(this.state.newProfession);\n      this.setState({\n        adding: false,\n        newProfession: \"\",\n        errors: \"\",\n      });\n    }\n  };\n  handleCancel = () => {\n    this.setState({ adding: false });\n  };\n  render() {\n    const { professions, loading } = this.props.data;\n    const { classes } = this.props;\n    let professionsMarkup = !loading ? (\n      professions.map(\n        (profession) =>\n          profession.professionName\n            .toLowerCase()\n            .includes(this.state.entry.toLowerCase()) && (\n            <Profession key={profession.professionId} profession={profession} />\n          )\n      )\n    ) : (\n      <p>Loading all courses...</p>\n    );\n\n    return (\n      <Grid container spacing={10}>\n        <Grid item sm={2} xs={12} />\n        <Grid item sm={8} xs={12}>\n          <form noValidate onSubmit={this.handleSubmit}>\n            <TextField\n              id=\"search\"\n              name=\"entry\"\n              type=\"text\"\n              label=\"Search for a profession...\"\n              className={classes.textField}\n              // helperText={errors.search}\n              // error={errors.search ? true : false}\n              value={this.state.entry}\n              onChange={this.handleChange}\n              fullWidth\n            />\n          </form>\n          <Button\n            type=\"button\"\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            disabled={this.state.adding}\n            onClick={this.handleAdd}\n          >\n            ADD NEW PROFESSION\n            <br />\n          </Button>\n          <br />\n          {this.state.adding && (\n            <form>\n              <TextField\n                id=\"search\"\n                name=\"entry\"\n                type=\"text\"\n                label=\"Enter a new profession...\"\n                className={classes.textField}\n                helperText={this.state.errors}\n                error={this.state.errors ? true : false}\n                value={this.state.newProfession}\n                onChange={this.handleCreate}\n                fullWidth\n              />\n              <Button\n                type=\"submit\"\n                variant=\"contained\"\n                color=\"secondary\"\n                className={classes.button}\n                disabled={!this.state.adding}\n                onClick={this.handleNewSubmit}\n              >\n                ADD\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.button}\n                disabled={!this.state.adding}\n                onClick={this.handleCancel}\n              >\n                CANCEL\n              </Button>\n            </form>\n          )}\n\n          <br />\n          <div>{professionsMarkup}</div>\n        </Grid>\n        <Grid item sm={2} xs={12} />\n      </Grid>\n    );\n    // return ;\n  }\n}\n\n// Search.propTypes = {\n//   getProfessions: PropTypes.func.isRequired,\n//   data: PropTypes.object.isRequired,\n// };\n\nconst mapStateToProps = (state) => ({\n  data: state.data,\n});\n\nexport default connect(mapStateToProps, { getProfessions, addProfession })(\n  withStyles(styles)(Search)\n);\n"]},"metadata":{},"sourceType":"module"}