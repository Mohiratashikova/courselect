(this["webpackJsonpcourselect-client"]=this["webpackJsonpcourselect-client"]||[]).push([[0],{136:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),s=a.n(o),c=a(13),i=a(11),l=a(17),d=a(16),u=a(19),p=a(18),h=(a(136),a(108)),b=a(15),j=a(59),m=a(110),f=a(27),O=a(7),g="SET_AUTHENTICATED",x="SET_UNAUTHENTICATED",y="SET_USER",v="LOADING_USER",C="SET_ERRORS",S="LOADING_UI",N="CLEAR_ERRORS",w="LOADING_DATA",k="STOP_LOADING_UI",T="SET_PROFESSIONS",E="SET_PROFESSION",I="SET_COURSES",P="SET_COURSE",A="SET_COMMENTS",D="LIKE_COURSE",F="UNLIKE_COURSE",U={authenticated:!1,loading:!1,credentials:{},likes:[],notifications:[]},L={professions:[],profession:{},courses:[],course:"",loading:!1,comments:[]},_={loading:!1,errors:null},R=[m.a],W=Object(j.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(O.a)(Object(O.a)({},e),{},{authenticated:!0});case x:return U;case y:return Object(O.a)(Object(O.a)({},e),{},{authenticated:!0,loading:!1},t.payload);case v:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case D:return Object(O.a)(Object(O.a)({},e),{},{likes:[].concat(Object(f.a)(e.likes),[{courseToProfessionId:t.payload.courseToProfessionId}])});case F:return Object(O.a)(Object(O.a)({},e),{},{likes:e.likes.filter((function(e){return e.courseToProfessionId!==t.payload.courseToProfessionId}))});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case T:return Object(O.a)(Object(O.a)({},e),{},{professions:t.payload,loading:!1});case E:return Object(O.a)(Object(O.a)({},e),{},{professionName:t.payload,loading:!1});case I:return Object(O.a)(Object(O.a)({},e),{},{courses:t.payload,loading:!1});case P:return Object(O.a)(Object(O.a)({},e),{},{course:t.payload,loading:!1});case A:return Object(O.a)(Object(O.a)({},e),{},{comments:t.payload,loading:!1});case D:case F:var a=e.courses.findIndex((function(e){return e.courseToProfessionId===t.payload.courseToProfessionId}));return e.courses[a]=t.payload,Object(O.a)(Object(O.a)({},e),{},{courses:Object(f.a)(e.courses)});case y:return Object(O.a)(Object(O.a)({},e),{},{credentials:t.payload});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:t.payload});case N:return Object(O.a)(Object(O.a)({},e),{},{loading:!1,errors:null});case S:return Object(O.a)(Object(O.a)({},e),{},{loading:!0});case k:return Object(O.a)(Object(O.a)({},e),{},{loading:!1});default:return e}}}),z=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):j.c)(j.a.apply(void 0,R)),B=Object(j.d)(W,{},z),M=a.p+"static/media/logo.9f1464f9.svg",H=a(228),G=a(216),V=a(2),K=function(e){var t=e.children,a=e.onClick,n=e.tip,r=e.btnClassName,o=e.tipClassName;return Object(V.jsx)(H.a,{title:n,className:o,placement:"top",children:Object(V.jsx)(G.a,{onClick:a,className:r,children:t})})},X=a(217),J=a(218),q=a(220),Q=a(219),Y=a(21),Z=a.n(Y),$=function(){return function(e){localStorage.removeItem("FBIdToken"),delete Z.a.defaults.headers.common.Authorization,e({type:x})}},ee=function(){return function(e){e({type:v}),Z.a.get("/user").then((function(t){e({type:y,payload:t.data})})).catch((function(e){return console.log(e)}))}},te=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),Z.a.defaults.headers.common.Authorization=t},ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){B.dispatch($())},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.authenticated;return Object(V.jsx)(X.a,{children:Object(V.jsx)(J.a,{className:"nav-container",children:e?Object(V.jsx)(n.Fragment,{children:Object(V.jsxs)(u.b,{to:"/",children:[Object(V.jsx)(K,{tip:"Home",children:Object(V.jsx)(Q.a,{})}),Object(V.jsx)(q.a,{style:{color:"#F4F6E6"},onClick:this.handleLogout,children:"Log out"})]})}):Object(V.jsxs)(n.Fragment,{children:[Object(V.jsx)(q.a,{color:"inherit",component:u.b,to:"/",children:Object(V.jsx)("img",{src:M,alt:"monkey",width:"100px"})}),Object(V.jsx)(q.a,{color:"inherit",component:u.b,to:"/login",children:"Login"}),Object(V.jsx)(q.a,{color:"inherit",component:u.b,to:"/",children:"Home"}),Object(V.jsx)(q.a,{color:"inherit",component:u.b,to:"/signup",children:"Signup"})]})})})}}]),a}(n.Component),ne=Object(b.b)((function(e){return{authenticated:e.user.authenticated}}))(ae),re=a(3),oe=["component","authenticated"],se=Object(b.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(re.a)(e,oe);return Object(V.jsx)(p.b,Object(O.a)(Object(O.a)({},n),{},{render:function(e){return!0===a?Object(V.jsx)(p.a,{to:"/"}):Object(V.jsx)(t,Object(O.a)({},e))}}))})),ce=a(14),ie=a(24),le=a.n(ie),de=a(221),ue=a(222),pe=a(226),he=a(223),be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(ce.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",errors:{}},e}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return Object(V.jsxs)(de.a,{container:!0,className:t.form,children:[Object(V.jsx)(de.a,{item:!0,sm:!0}),Object(V.jsxs)(de.a,{item:!0,sm:!0,children:[Object(V.jsx)(ue.a,{variant:"h4",className:t.pageTitle,children:"Login"}),Object(V.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(V.jsx)(pe.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),Object(V.jsx)(pe.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),n.general&&Object(V.jsx)(ue.a,{variant:"body2",className:t.customError,children:n.general}),Object(V.jsxs)(q.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a,children:["Login",a&&Object(V.jsx)(he.a,{size:30,className:t.progress})]}),Object(V.jsx)("br",{}),Object(V.jsxs)("small",{children:["dont have an account ? sign up ",Object(V.jsx)(u.b,{to:"/signup",children:"here"})]})]})]}),Object(V.jsx)(de.a,{item:!0,sm:!0})]})}}]),a}(n.Component),je={loginUser:function(e,t){return function(t){t({type:S}),Z.a.post("/login",e).then((function(e){te(e.data.token),t(ee()),t({type:N})})).catch((function(e){t({type:C,payload:e.response.data})}))}}},me=Object(b.b)((function(e){return{user:e.user,UI:e.UI}}),je)(le()({form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},button:{marginTop:20,position:"relative"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})(be)),fe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a={email:e.state.email,password:e.state.password,confirmPassword:e.state.confirmPassword,handle:e.state.handle};e.props.signupUser(a,e.props.history)},e.handleChange=function(t){e.setState(Object(ce.a)({},t.target.name,t.target.value))},e.state={email:"",password:"",confirmPassword:"",handle:"",errors:{}},e}return Object(i.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return Object(V.jsxs)(de.a,{container:!0,className:t.form,children:[Object(V.jsx)(de.a,{item:!0,sm:!0}),Object(V.jsxs)(de.a,{item:!0,sm:!0,children:[Object(V.jsx)(ue.a,{variant:"h4",className:t.pageTitle,children:"SignUp"}),Object(V.jsxs)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:[Object(V.jsx)(pe.a,{id:"email",name:"email",type:"email",label:"Email",className:t.textField,helperText:n.email,error:!!n.email,value:this.state.email,onChange:this.handleChange,fullWidth:!0}),Object(V.jsx)(pe.a,{id:"password",name:"password",type:"password",label:"Password",className:t.textField,helperText:n.password,error:!!n.password,value:this.state.password,onChange:this.handleChange,fullWidth:!0}),Object(V.jsx)(pe.a,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"Confirm Password",className:t.textField,helperText:n.confirmPassword,error:!!n.confirmPassword,value:this.state.confirmPassword,onChange:this.handleChange,fullWidth:!0}),Object(V.jsx)(pe.a,{id:"handle",name:"handle",type:"text",label:"Username",className:t.textField,helperText:n.handle,error:!!n.handle,value:this.state.handle,onChange:this.handleChange,fullWidth:!0}),n.general&&Object(V.jsx)(ue.a,{variant:"body2",className:t.customError,children:n.general}),Object(V.jsxs)(q.a,{type:"submit",variant:"contained",color:"primary",className:t.button,disabled:a,children:["SignUp",a&&Object(V.jsx)(he.a,{size:30,className:t.progress})]}),Object(V.jsx)("br",{}),Object(V.jsxs)("small",{children:["Already have an account ? Login ",Object(V.jsx)(u.b,{to:"/login",children:"here"})]})]})]}),Object(V.jsx)(de.a,{item:!0,sm:!0})]})}}]),a}(n.Component),Oe=Object(b.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:S}),Z.a.post("/signup",e).then((function(e){te(e.data.token),a(ee()),a({type:N}),t.push("/")})).catch((function(e){a({type:C,payload:e.response.data})}))}}})(le()({form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},button:{marginTop:20,position:"relative"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})(fe)),ge=a(116),xe=a.n(ge),ye=a(82),ve=a.n(ye),Ce=function(){return function(e){e({type:w}),Z.a.get("/professions").then((function(t){e({type:T,payload:t.data})})).catch((function(t){e({type:T,payload:[]})}))}},Se=function(e){return function(t){t({type:w}),Z.a.get("/courses",{params:{professionName:e}}).then((function(e){t({type:I,payload:e.data})})).catch((function(e){t({type:I,payload:[]})}))}},Ne=function(e){return function(t){t({type:P,payload:e}),Z.a.get("/courseToProfession",{params:{courseName:e}}).then((function(e){t({type:A,payload:e.data.allComments})})).catch((function(e){t({type:A,payload:[]})}))}},we=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).likedCourse=function(){return!(!e.props.user.likes||!e.props.user.likes.find((function(t){return t.courseToProfessionId===e.props.courseToProfessionId})))},e.likeCourse=function(){e.props.likeCourse(e.props.courseToProfessionId)},e.unlikeCourse=function(){e.props.unlikeCourse(e.props.courseToProfessionId)},e}return Object(i.a)(a,[{key:"render",value:function(){return this.props.user.authenticated?this.likedCourse()?Object(V.jsx)(K,{tip:"Undo like",onClick:this.unlikeCourse,children:Object(V.jsx)(xe.a,{color:"primary"})}):Object(V.jsx)(K,{onClick:this.likeCourse,tip:"Like",children:Object(V.jsx)(ve.a,{color:"primary"})}):Object(V.jsx)(u.b,{to:"/login",children:Object(V.jsx)(K,{tip:"Like",children:Object(V.jsx)(ve.a,{color:"primary"})})})}}]),a}(n.Component),ke={likeCourse:function(e){return function(t){Z.a.get("/course/".concat(e,"/like")).then((function(e){t({type:D,payload:e.data})})).catch((function(e){return console.log(e)}))}},unlikeCourse:function(e){return function(t){Z.a.get("/course/".concat(e,"/unlike")).then((function(e){t({type:F,payload:e.data})})).catch((function(e){return console.log(e)}))}}},Te=Object(b.b)((function(e){return{user:e.user,data:e.data}}),ke)(we),Ee=a(224),Ie=a(225),Pe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleCourse=function(){e.props.searchComments(e.props.course.courseName),e.props.history.push("/feedbacks")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.course,n=a.courseToProfessionId,r=a.courseName,o=a.likeCount;return Object(V.jsx)(Ee.a,{className:t.card,children:Object(V.jsxs)(Ie.a,{className:t.content,children:[Object(V.jsx)(ue.a,{variant:"h5",color:"primary",onClick:this.handleCourse,children:r}),Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"primary",className:t.button,onClick:this.handleCourse,children:"see feedbacks"}),Object(V.jsx)(Te,{courseToProfessionId:n}),Object(V.jsxs)("span",{children:[o," Likes"]})]})})}}]),a}(n.Component),Ae=Object(p.g)(Object(b.b)((function(e){return{data:e.data}}),{searchComments:Ne})(le()({card:{position:"relative",display:"flex",marginBottom:20},image:{minWidth:200},content:{padding:25,objectFit:"cover"}})(Pe))),De=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newCourse:"",adding:!1},e.componentDidMount=function(){e.props.setCourses(e.props.professionName)},e.handleAdd=function(t){e.setState({adding:!0})},e.handleChange=function(t){e.setState({newCourse:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.data.courses.some((function(t){return t.courseName.toLowerCase()===e.state.newCourse.toLowerCase()}))?e.setState({errors:"course already exists"}):(e.props.addCourse(e.state.newCourse,e.props.data.professionName),e.setState({adding:!1,errors:"",newCourse:""}))},e.handleCancel=function(){e.setState({adding:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this.props.classes,a=this.props.data,n=a.professionName,r=a.courses;return e=0!==r.length?r.map((function(e){return Object(V.jsx)(Ae,{course:e},e.courseToProfessionId)})):Object(V.jsx)("p",{children:"no courses yet"}),Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{children:Object(V.jsx)("h1",{children:n})}),Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"secondary",className:t.button,disabled:this.state.adding,onClick:this.handleAdd,children:"ADD NEW COURSE FOR THIS PROFESSION"}),this.state.adding&&Object(V.jsxs)("form",{children:[Object(V.jsx)(pe.a,{id:"entry",name:"entry",type:"text",label:"Enter a new course...",className:t.textField,helperText:this.state.errors,error:!!this.state.errors,value:this.state.newCourse,onChange:this.handleChange,fullWidth:!0}),Object(V.jsx)(q.a,{type:"submit",variant:"contained",color:"secondary",className:t.button,disabled:!this.state.adding,onClick:this.handleSubmit,children:"ADD"}),Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"primary",className:t.button,disabled:!this.state.adding,onClick:this.handleCancel,children:"CANCEL"})]}),Object(V.jsx)("br",{}),Object(V.jsx)("br",{}),Object(V.jsx)("div",{children:e})]})}}]),a}(n.Component),Fe=Object(b.b)((function(e){return{professionName:e.data.professionName,data:e.data}}),{addCourse:function(e,t){return function(a){Z.a.post("/profession/course",{name:e,professionName:t}).then((function(e){a(Se(t))})).catch((function(e){return console.log(e)}))}},setCourses:Se})(le()({form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},button:{marginTop:20,marginRight:30,position:"relative"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})(De)),Ue=a(83),Le=a.n(Ue),_e=a(117),Re=a.n(_e),We=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleDelete=function(){e.props.deleteComment(e.props.comment.commentId,e.props.course)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user.credentials;Le.a.extend(Re.a);var t=this.props,a=t.classes,n=t.comment,r=n.body,o=n.createdAt,s=n.userHandle;return Object(V.jsx)(Ee.a,{className:a.card,children:Object(V.jsxs)(Ie.a,{className:a.content,children:[Object(V.jsx)(ue.a,{variant:"h5",className:a.body,children:r}),Object(V.jsxs)(ue.a,{variant:"body1",color:"primary",children:["author: ",s]}),Object(V.jsx)(ue.a,{variant:"body1",color:"secondary",children:Le()(o).fromNow()}),e.handle===s&&Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"primary",className:a.button,onClick:this.handleDelete,children:"Delete feedback"})]})})}}]),a}(n.Component),ze=Object(b.b)((function(e){return{user:e.user,course:e.data.course}}),{deleteComment:function(e,t){return function(a){Z.a.delete("/comment/".concat(e)).then((function(){a(Ne(t))})).catch((function(e){return console.log(e)}))}}})(le()({card:{position:"relative",display:"flex",marginBottom:20},image:{minWidth:200},content:{padding:25,objectFit:"cover"},button:{fontSize:10},body:{fontSize:20,backgroundColor:"#F5F3F0",padding:"5px",marginBottom:"5px",boxShadow:"3px 3px 2px #eee"}})(We)),Be=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={newComment:"",adding:!1},e.handleAdd=function(t){e.setState({adding:!0})},e.handleChange=function(t){e.setState({newComment:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.state.newComment?(e.props.addComment(e.state.newComment,e.props.course),e.setState({adding:!1,errors:"",newComment:""})):e.setState({errors:"Empty comment"})},e.handleCancel=function(){e.setState({adding:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this.props.user.authenticated,a=this.props,n=a.classes,r=a.course,o=a.comments,s=t?Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"secondary",className:n.button,disabled:this.state.adding,onClick:this.handleAdd,children:"ADD NEW FEEDBACK"}):Object(V.jsx)(u.b,{to:"/login",children:Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"secondary",className:n.button,children:"LOGIN TO ADD NEW FEEDBACK"})});return e=0!==o.length?o.map((function(e){return Object(V.jsx)(ze,{comment:e},e.commentId)})):Object(V.jsx)("p",{children:"no feedbacks yet"}),Object(V.jsxs)("div",{children:[Object(V.jsx)("div",{children:Object(V.jsx)("h1",{children:r})}),Object(V.jsx)("div",{children:e}),r&&s,this.state.adding&&Object(V.jsxs)("form",{children:[Object(V.jsx)(pe.a,{id:"entry",name:"entry",type:"text",label:"Enter a new feedback...",className:n.textField,helperText:this.state.errors,error:!!this.state.errors,value:this.state.newCourse,onChange:this.handleChange,fullWidth:!0}),Object(V.jsx)(q.a,{type:"submit",variant:"contained",color:"secondary",className:n.button,disabled:!this.state.adding,onClick:this.handleSubmit,children:"ADD"}),Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"primary",className:n.button,disabled:!this.state.adding,onClick:this.handleCancel,children:"CANCEL"})]}),Object(V.jsx)("br",{}),Object(V.jsx)("br",{})]})}}]),a}(n.Component),Me=Object(b.b)((function(e){return{course:e.data.course,comments:e.data.comments,user:e.user}}),{addComment:function(e,t){return function(a){Z.a.post("/course/comment",{courseName:t,body:e}).then((function(){a(Ne(t))})).catch((function(e){return console.log(e)}))}}})(le()({form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},button:{marginTop:20,marginRight:30,position:"relative"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})(Be)),He=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleProfession=function(t){var a=t.target.innerHTML;e.props.setProfession(a),e.props.history.push("/courses")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.profession.professionName;return Object(V.jsx)(Ee.a,{className:t.card,children:Object(V.jsx)(Ie.a,{className:t.content,children:Object(V.jsx)(ue.a,{variant:"h5",color:"primary",onClick:this.handleProfession,children:a})})})}}]),a}(n.Component),Ge=Object(p.g)(Object(b.b)((function(e){return{user:e.user}}),{setProfession:function(e){return{type:E,payload:e}}})(le()({card:{position:"relative",display:"flex",marginBottom:20},image:{minWidth:200},content:{padding:25,objectFit:"cover",cursor:"pointer"}})(He))),Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={entry:"",newProfession:"",adding:!1},e.handleSubmit=function(e){e.preventDefault()},e.handleChange=function(t){e.setState(Object(ce.a)({},t.target.name,t.target.value))},e.handleAdd=function(t){e.setState({adding:!0})},e.handleCreate=function(t){e.setState({newProfession:t.target.value})},e.handleNewSubmit=function(t){t.preventDefault(),e.props.data.professions.some((function(t){return t.professionName.toLowerCase()===e.state.newProfession.toLowerCase()}))?e.setState({errors:"Profession already exists"}):""===e.state.newProfession?e.setState({errors:"Invalid input"}):(e.props.addProfession(e.state.newProfession),e.setState({adding:!1,newProfession:"",errors:""}))},e.handleCancel=function(){e.setState({adding:!1})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getProfessions()}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.professions,n=t.loading,r=this.props.classes,o=n?Object(V.jsx)("p",{children:"Loading all courses..."}):a.map((function(t){return t.professionName.toLowerCase().includes(e.state.entry.toLowerCase())&&Object(V.jsx)(Ge,{profession:t},t.professionId)}));return Object(V.jsxs)(de.a,{container:!0,spacing:10,children:[Object(V.jsx)(de.a,{item:!0,sm:2,xs:12}),Object(V.jsxs)(de.a,{item:!0,sm:8,xs:12,children:[Object(V.jsx)("form",{noValidate:!0,onSubmit:this.handleSubmit,children:Object(V.jsx)(pe.a,{id:"search",name:"entry",type:"text",label:"Search for a profession...",className:r.textField,value:this.state.entry,onChange:this.handleChange,fullWidth:!0})}),Object(V.jsxs)(q.a,{type:"button",variant:"contained",color:"secondary",className:r.button,disabled:this.state.adding,onClick:this.handleAdd,children:["ADD NEW PROFESSION",Object(V.jsx)("br",{})]}),Object(V.jsx)("br",{}),this.state.adding&&Object(V.jsxs)("form",{children:[Object(V.jsx)(pe.a,{id:"search",name:"entry",type:"text",label:"Enter a new profession...",className:r.textField,helperText:this.state.errors,error:!!this.state.errors,value:this.state.newProfession,onChange:this.handleCreate,fullWidth:!0}),Object(V.jsx)(q.a,{type:"submit",variant:"contained",color:"secondary",className:r.button,disabled:!this.state.adding,onClick:this.handleNewSubmit,children:"ADD"}),Object(V.jsx)(q.a,{type:"button",variant:"contained",color:"primary",className:r.button,disabled:!this.state.adding,onClick:this.handleCancel,children:"CANCEL"})]}),Object(V.jsx)("br",{}),Object(V.jsx)("div",{children:o})]}),Object(V.jsx)(de.a,{item:!0,sm:2,xs:12})]})}}]),a}(n.Component),Ke=Object(b.b)((function(e){return{data:e.data}}),{getProfessions:Ce,addProfession:function(e){return function(t){t({type:w}),Z.a.post("/profession",{name:e}).then((function(e){t(Ce())})).catch((function(e){t({type:I,payload:[]})}))}}})(le()({form:{textAlign:"center"},image:{margin:"20px auto 20px auto"},button:{marginTop:20,marginRight:30,position:"relative"},pageTitle:{margin:"10px auto 10px auto"},textField:{margin:"10px auto 10px auto"},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progress:{position:"absolute"}})(Ve));Z.a.defaults.baseURL="https://us-central1-courselect-c8738.cloudfunctions.net/api";var Xe=localStorage.FBIdToken;Xe&&(1e3*Object(h.a)(Xe).exp<Date.now()?(B.dispatch($()),window.location.href="/login"):(B.dispatch({type:g}),Z.a.defaults.headers.common.Authorization=Xe,B.dispatch(ee())));var Je=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return Object(V.jsx)(b.a,{store:B,children:Object(V.jsxs)(u.a,{children:[Object(V.jsx)(ne,{}),Object(V.jsx)("div",{className:"container",children:Object(V.jsxs)(p.d,{children:[Object(V.jsx)(p.b,{path:"/",exact:!0,component:Ke}),Object(V.jsx)(se,{path:"/login",exact:!0,component:me}),Object(V.jsx)(se,{path:"/signup",exact:!0,component:Oe}),Object(V.jsx)(p.b,{path:"/courses",exact:!0,component:Fe}),Object(V.jsx)(p.b,{path:"/feedbacks",exact:!0,component:Me})]})})]})})}}]),a}(n.Component),qe=Je;s.a.render(Object(V.jsx)(r.a.StrictMode,{children:Object(V.jsx)(qe,{})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.464e9504.chunk.js.map