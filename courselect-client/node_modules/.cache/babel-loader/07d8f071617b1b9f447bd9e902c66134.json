{"ast":null,"code":"import _defineProperty from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import withStyles from\"@material-ui/core/styles/withStyles\";import{Link}from\"react-router-dom\";// MUI Stuff\nimport Grid from\"@material-ui/core/Grid\";import Typography from\"@material-ui/core/Typography\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import CircularProgress from\"@material-ui/core/CircularProgress\";// Redux stuff\nimport{connect}from\"react-redux\";import{loginUser}from\"../redux/actions/userActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var styles={form:{textAlign:\"center\"},image:{margin:\"20px auto 20px auto\"},button:{marginTop:20,position:\"relative\"},pageTitle:{margin:\"10px auto 10px auto\"},textField:{margin:\"10px auto 10px auto\"},customError:{color:\"red\",fontSize:\"0.8rem\",marginTop:10},progress:{position:\"absolute\"}};var login=/*#__PURE__*/function(_Component){_inherits(login,_Component);var _super=_createSuper(login);function login(){var _this;_classCallCheck(this,login);_this=_super.call(this);_this.handleSubmit=function(event){event.preventDefault();var userData={email:_this.state.email,password:_this.state.password};_this.props.loginUser(userData,_this.props.history);};_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.name,event.target.value));};_this.state={email:\"\",password:\"\",errors:{}};return _this;}_createClass(login,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){if(nextProps.UI.errors){this.setState({errors:nextProps.UI.errors});}}},{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,loading=_this$props.UI.loading;var errors=this.state.errors;return/*#__PURE__*/_jsxs(Grid,{container:true,className:classes.form,children:[/*#__PURE__*/_jsx(Grid,{item:true,sm:true}),/*#__PURE__*/_jsxs(Grid,{item:true,sm:true,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",className:classes.pageTitle,children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{noValidate:true,onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(TextField,{id:\"email\",name:\"email\",type:\"email\",label:\"Email\",className:classes.textField,helperText:errors.email,error:errors.email?true:false,value:this.state.email,onChange:this.handleChange,fullWidth:true}),/*#__PURE__*/_jsx(TextField,{id:\"password\",name:\"password\",type:\"password\",label:\"Password\",className:classes.textField,helperText:errors.password,error:errors.password?true:false,value:this.state.password,onChange:this.handleChange,fullWidth:true}),errors.general&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",className:classes.customError,children:errors.general}),/*#__PURE__*/_jsxs(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:classes.button,disabled:loading,children:[\"Login\",loading&&/*#__PURE__*/_jsx(CircularProgress,{size:30,className:classes.progress})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[\"dont have an account ? sign up \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"here\"})]})]})]}),/*#__PURE__*/_jsx(Grid,{item:true,sm:true})]});}}]);return login;}(Component);var mapStateToProps=function mapStateToProps(state){return{user:state.user,UI:state.UI};};var mapActionsToProps={loginUser:loginUser};export default connect(mapStateToProps,mapActionsToProps)(withStyles(styles)(login));","map":{"version":3,"sources":["/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/src/pages/login.js"],"names":["React","Component","withStyles","Link","Grid","Typography","TextField","Button","CircularProgress","connect","loginUser","styles","form","textAlign","image","margin","button","marginTop","position","pageTitle","textField","customError","color","fontSize","progress","login","handleSubmit","event","preventDefault","userData","email","state","password","props","history","handleChange","setState","target","name","value","errors","nextProps","UI","classes","loading","general","mapStateToProps","user","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport PropTypes from \"prop-types\";\n\nimport { Link } from \"react-router-dom\";\n\n// MUI Stuff\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n// Redux stuff\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../redux/actions/userActions\";\n\nconst styles = {\n  form: {\n    textAlign: \"center\",\n  },\n  image: {\n    margin: \"20px auto 20px auto\",\n  },\n  button: {\n    marginTop: 20,\n    position: \"relative\",\n  },\n  pageTitle: {\n    margin: \"10px auto 10px auto\",\n  },\n  textField: {\n    margin: \"10px auto 10px auto\",\n  },\n  customError: {\n    color: \"red\",\n    fontSize: \"0.8rem\",\n    marginTop: 10,\n  },\n  progress: {\n    position: \"absolute\",\n  },\n};\n\nclass login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {},\n    };\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({ errors: nextProps.UI.errors });\n    }\n  }\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const userData = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n    this.props.loginUser(userData, this.props.history);\n  };\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n  render() {\n    const {\n      classes,\n      UI: { loading },\n    } = this.props;\n    const { errors } = this.state;\n\n    return (\n      <Grid container className={classes.form}>\n        <Grid item sm />\n        <Grid item sm>\n          <Typography variant=\"h4\" className={classes.pageTitle}>\n            Login\n          </Typography>\n          <form noValidate onSubmit={this.handleSubmit}>\n            <TextField\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              label=\"Email\"\n              className={classes.textField}\n              helperText={errors.email}\n              error={errors.email ? true : false}\n              value={this.state.email}\n              onChange={this.handleChange}\n              fullWidth\n            />\n            <TextField\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              label=\"Password\"\n              className={classes.textField}\n              helperText={errors.password}\n              error={errors.password ? true : false}\n              value={this.state.password}\n              onChange={this.handleChange}\n              fullWidth\n            />\n            {errors.general && (\n              <Typography variant=\"body2\" className={classes.customError}>\n                {errors.general}\n              </Typography>\n            )}\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              disabled={loading}\n            >\n              Login\n              {loading && (\n                <CircularProgress size={30} className={classes.progress} />\n              )}\n            </Button>\n            <br />\n            <small>\n              dont have an account ? sign up <Link to=\"/signup\">here</Link>\n            </small>\n          </form>\n        </Grid>\n        <Grid item sm />\n      </Grid>\n    );\n  }\n}\n\nlogin.propTypes = {\n  classes: PropTypes.object.isRequired,\n  loginUser: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.user,\n  UI: state.UI,\n});\n\nconst mapActionsToProps = {\n  loginUser,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapActionsToProps\n)(withStyles(styles)(login));\n"]},"metadata":{},"sourceType":"module"}