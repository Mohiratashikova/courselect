{"ast":null,"code":"import _classCallCheck from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{BrowserRouter,Route,Switch}from\"react-router-dom\";import\"./App.css\";import jwtDecode from\"jwt-decode\";// Redux\nimport{Provider}from\"react-redux\";import store from\"./redux/store\";import Navbar from\"./components/layout/Navbar\";import{SET_AUTHENTICATED}from\"./redux/types\";import{logoutUser,getUserData}from\"./redux/actions/userActions\";// Components\nimport AuthRoute from\"./util/AuthRoute\";// Pages\nimport login from\"./pages/login\";import signup from\"./pages/signup\";import courses from\"./pages/courses\";import feedbacks from\"./pages/feedbacks\";import Search from\"./components/Search\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.baseURL=\"https://us-central1-courselect-c8738.cloudfunctions.net/api\";var token=localStorage.FBIdToken;if(token){var decodedToken=jwtDecode(token);if(decodedToken.exp*1000<Date.now()){store.dispatch(logoutUser());window.location.href=\"/login\";}else{store.dispatch({type:SET_AUTHENTICATED});axios.defaults.headers.common[\"Authorization\"]=token;store.dispatch(getUserData());}}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){_classCallCheck(this,App);return _super.apply(this,arguments);}_createClass(App,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,component:Search}),/*#__PURE__*/_jsx(AuthRoute,{path:\"/login\",exact:true,component:login}),/*#__PURE__*/_jsx(AuthRoute,{path:\"/signup\",exact:true,component:signup}),/*#__PURE__*/_jsx(Route,{path:\"/courses\",exact:true,component:courses}),/*#__PURE__*/_jsx(Route,{path:\"/feedbacks\",exact:true,component:feedbacks})]})})]})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/mokhiraatashikova/Desktop/mohi/exponential program/coursesApp/courselect-client/src/App.js"],"names":["React","Component","BrowserRouter","Route","Switch","jwtDecode","Provider","store","Navbar","SET_AUTHENTICATED","logoutUser","getUserData","AuthRoute","login","signup","courses","feedbacks","Search","axios","defaults","baseURL","token","localStorage","FBIdToken","decodedToken","exp","Date","now","dispatch","window","location","href","type","headers","common","App"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,KAA6C,kBAA7C,CAEA,MAAO,WAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,YAAtB,CACA;AACA,OAASC,QAAT,KAAyB,aAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,OAASC,iBAAT,KAAkC,eAAlC,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,6BAAxC,CACA;AAEA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,gBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,iBAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,CACE,6DADF,CAGA,GAAMC,CAAAA,KAAK,CAAGC,YAAY,CAACC,SAA3B,CACA,GAAIF,KAAJ,CAAW,CACT,GAAMG,CAAAA,YAAY,CAAGnB,SAAS,CAACgB,KAAD,CAA9B,CAEA,GAAIG,YAAY,CAACC,GAAb,CAAmB,IAAnB,CAA0BC,IAAI,CAACC,GAAL,EAA9B,CAA0C,CACxCpB,KAAK,CAACqB,QAAN,CAAelB,UAAU,EAAzB,EACAmB,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,QAAvB,CACD,CAHD,IAGO,CACLxB,KAAK,CAACqB,QAAN,CAAe,CAAEI,IAAI,CAAEvB,iBAAR,CAAf,EACAS,KAAK,CAACC,QAAN,CAAec,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiDb,KAAjD,CACAd,KAAK,CAACqB,QAAN,CAAejB,WAAW,EAA1B,EACD,CACF,C,GAEKwB,CAAAA,G,8MACJ,iBAAS,CACP,mBACE,KAAC,QAAD,EAAU,KAAK,CAAE5B,KAAjB,uBACE,MAAC,aAAD,yBACE,KAAC,MAAD,IADF,cAEE,YAAK,SAAS,CAAC,WAAf,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,KAAK,KAArB,CAAsB,SAAS,CAAEU,MAAjC,EADF,cAEE,KAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,KAAK,KAA9B,CAA+B,SAAS,CAAEJ,KAA1C,EAFF,cAGE,KAAC,SAAD,EAAW,IAAI,CAAC,SAAhB,CAA0B,KAAK,KAA/B,CAAgC,SAAS,CAAEC,MAA3C,EAHF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,KAAK,KAA5B,CAA6B,SAAS,CAAEC,OAAxC,EAJF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,KAAK,KAA9B,CAA+B,SAAS,CAAEC,SAA1C,EALF,GADF,EAFF,GADF,EADF,CAgBD,C,iBAlBef,S,EAqBlB,cAAekC,CAAAA,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport jwtDecode from \"jwt-decode\";\n// Redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport Navbar from \"./components/layout/Navbar\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\n// Components\n\nimport AuthRoute from \"./util/AuthRoute\";\n// Pages\nimport login from \"./pages/login\";\n\nimport signup from \"./pages/signup\";\nimport courses from \"./pages/courses\";\nimport feedbacks from \"./pages/feedbacks\";\nimport Search from \"./components/Search\";\nimport axios from \"axios\";\n\naxios.defaults.baseURL =\n  \"https://us-central1-courselect-c8738.cloudfunctions.net/api\";\n\nconst token = localStorage.FBIdToken;\nif (token) {\n  const decodedToken = jwtDecode(token);\n\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common[\"Authorization\"] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <BrowserRouter>\n          <Navbar />\n          <div className=\"container\">\n            <Switch>\n              <Route path=\"/\" exact component={Search} />\n              <AuthRoute path=\"/login\" exact component={login} />\n              <AuthRoute path=\"/signup\" exact component={signup} />\n              <Route path=\"/courses\" exact component={courses} />\n              <Route path=\"/feedbacks\" exact component={feedbacks} />\n            </Switch>\n          </div>\n        </BrowserRouter>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}